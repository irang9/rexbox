@charset "utf-8";

@use 'sass:map';
@use 'sass:color';
@use '../variables/spacing' as *;
@use '../variables/typo' as *;
@use '../variables/colors' as vars;
@use '../theme' as *;
@use 'colors' as colors-utils;

// ============================================
// Button Utilities
// ============================================
// Bootstrap 스타일을 참고하여 button 유틸리티 클래스를 제공합니다.
// semantic 색상과 연계하여 사용할 수 있습니다.

// Button 기본 변수
$btn-padding-y: 0.5rem;
$btn-padding-x: 1rem;
$btn-font-size: $font-size-base;
$btn-font-weight: $font-weight-medium;
$btn-line-height: 1.5;
$btn-border-width: 1px;
$btn-border-radius: 0.375rem;
$btn-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

// Button 크기 변수
$btn-padding-y-sm: 0.25rem;
$btn-padding-x-sm: 0.5rem;
$btn-font-size-sm: $font-size-sm;
$btn-border-radius-sm: 0.25rem;

$btn-padding-y-lg: 0.75rem;
$btn-padding-x-lg: 1.5rem;
$btn-font-size-lg: $font-size-lg;
$btn-border-radius-lg: 0.5rem;

// ============================================
// Base Button Styles
// ============================================
.btn {
    display: inline-block;
    padding: $btn-padding-y $btn-padding-x;
    font-size: $btn-font-size;
    font-weight: $btn-font-weight;
    line-height: $btn-line-height;
    text-align: center;
    text-decoration: none;
    vertical-align: middle;
    cursor: pointer;
    user-select: none;
    border: $btn-border-width solid transparent;
    border-radius: $btn-border-radius;
    transition: $btn-transition;

    &:hover {
        text-decoration: none;
    }

    &:focus {
        outline: 0;
        box-shadow: 0 0 0 0.25rem rgba($primary, 0.25);
    }

    &:disabled,
    &.disabled {
        opacity: 0.65;
        pointer-events: none;
        cursor: not-allowed;
    }
}

// ============================================
// Button Variants (Solid)
// ============================================
// semantic 색상을 사용하여 button variants 생성
$btn-variants: (
    "primary": $primary,
    "secondary": $secondary,
    "success": $success,
    "warning": $warning,
    "danger": $danger,
    "info": $info,
    "point": $point,
);

@each $name, $color in $btn-variants {
    .btn-#{$name} {
        color: colors-utils.rexbox-contrast-color($color) !important;
        background-color: $color !important;
        border-color: $color !important;

        &:hover {
            background-color: color.adjust($color, $lightness: -5%);
            border-color: color.adjust($color, $lightness: -5%);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
        }
    }
}

// ============================================
// Button Outline Variants
// ============================================
.btn-outline {
    color: $text-primary;
    background-color: transparent;
    border-color: $border-default;

    &:hover {
        background-color: $bg-subtle;
        border-color: $border-dark;
    }

    &:focus {
        box-shadow: 0 0 0 0.25rem rgba($text-primary, 0.1);
    }

    &:active {
        background-color: $bg-light;
        border-color: $border-dark;
    }
}

@each $name, $color in $btn-variants {
    .btn-outline-#{$name} {
        color: $color !important;
        background-color: transparent !important;
        border-color: $color !important;

        &:hover {
            color: colors-utils.rexbox-contrast-color($color) !important;
            background-color: $color !important;
            border-color: $color !important;
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
            color: colors-utils.rexbox-contrast-color($color) !important;
        }
    }
}

// ============================================
// Button Sizes
// ============================================
.btn-sm {
    padding: $btn-padding-y-sm $btn-padding-x-sm;
    font-size: $btn-font-size-sm;
    border-radius: $btn-border-radius-sm;
}

.btn-lg {
    padding: $btn-padding-y-lg $btn-padding-x-lg;
    font-size: $btn-font-size-lg;
    border-radius: $btn-border-radius-lg;
}

// ============================================
// Button States
// ============================================
.btn-disabled,
.btn:disabled {
    opacity: 0.65;
    pointer-events: none;
    cursor: not-allowed;
}

.btn-active {

    &:active,
    &.active {
        box-shadow: inset 0 3px 5px rgba(vars.$black-soft, 0.125);
    }
}

// ============================================
// Button Link Style
// ============================================
.btn-link {
    font-weight: $font-weight-normal;
    color: $link;
    text-decoration: underline;
    background-color: transparent;
    border: 0;

    &:hover {
        color: $link-hover;
        text-decoration: underline;
    }

    &:focus {
        text-decoration: underline;
        box-shadow: none;
    }

    &:disabled,
    &.disabled {
        color: $text-disabled;
        pointer-events: none;
    }
}

// ============================================
// Button Ghost/Text Style
// ============================================
.btn-ghost {
    color: $text-primary;
    background-color: transparent;
    border-color: transparent;

    &:hover {
        background-color: $bg-subtle;
    }

    &:focus {
        box-shadow: 0 0 0 0.25rem rgba($text-primary, 0.1);
    }

    &:active {
        background-color: $bg-light;
    }
}

@each $name, $color in $btn-variants {
    .btn-ghost-#{$name} {
        color: $color !important;
        background-color: transparent !important;
        border-color: transparent !important;

        &:hover {
            background-color: rgba($color, 0.1);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.15);
        }

        &:active {
            background-color: rgba($color, 0.2);
        }
    }
}

// ============================================
// Button Palette Variants (단계별 색상)
// ============================================
// Slate, Primary, Secondary, Point의 단계별 색상에 대한 버튼 유틸리티

// Slate Palette Buttons
$btn-slate-palette: (
    "50": vars.$slate-50,
    "100": vars.$slate-100,
    "200": vars.$slate-200,
    "300": vars.$slate-300,
    "400": vars.$slate-400,
    "500": vars.$slate-500,
    "600": vars.$slate-600,
    "700": vars.$slate-700,
    "800": vars.$slate-800,
    "900": vars.$slate-900,
    "950": vars.$slate-950,
);

@each $step, $color in $btn-slate-palette {
    .btn-slate-#{$step} {
        color: colors-utils.rexbox-contrast-color($color) !important;
        background-color: $color !important;
        border-color: $color !important;

        &:hover {
            background-color: color.adjust($color, $lightness: -5%);
            border-color: color.adjust($color, $lightness: -5%);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
        }
    }

    .btn-outline-slate-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: $color !important;

        &:hover {
            color: colors-utils.rexbox-contrast-color($color) !important;
            background-color: $color !important;
            border-color: $color !important;
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
            color: colors-utils.rexbox-contrast-color($color) !important;
        }
    }

    .btn-ghost-slate-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: transparent !important;

        &:hover {
            background-color: rgba($color, 0.1);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.15);
        }

        &:active {
            background-color: rgba($color, 0.2);
        }
    }
}

// Primary Palette Buttons
$btn-primary-palette: (
    "100": $primary-100,
    "200": $primary-200,
    "300": $primary-300,
    "400": $primary-400,
    "500": $primary-500,
    "600": $primary-600,
    "700": $primary-700,
    "800": $primary-800,
    "900": $primary-900,
);

@each $step, $color in $btn-primary-palette {
    .btn-primary-#{$step} {
        color: colors-utils.rexbox-contrast-color($color) !important;
        background-color: $color !important;
        border-color: $color !important;

        &:hover {
            background-color: color.adjust($color, $lightness: -5%);
            border-color: color.adjust($color, $lightness: -5%);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
        }
    }

    .btn-outline-primary-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: $color !important;

        &:hover {
            color: colors-utils.rexbox-contrast-color($color) !important;
            background-color: $color !important;
            border-color: $color !important;
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
            color: colors-utils.rexbox-contrast-color($color) !important;
        }
    }

    .btn-ghost-primary-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: transparent !important;

        &:hover {
            background-color: rgba($color, 0.1);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.15);
        }

        &:active {
            background-color: rgba($color, 0.2);
        }
    }
}

// Secondary Palette Buttons
$btn-secondary-palette: (
    "100": $secondary-100,
    "200": $secondary-200,
    "300": $secondary-300,
    "400": $secondary-400,
    "500": $secondary-500,
    "600": $secondary-600,
    "700": $secondary-700,
    "800": $secondary-800,
    "900": $secondary-900,
);

@each $step, $color in $btn-secondary-palette {
    .btn-secondary-#{$step} {
        color: colors-utils.rexbox-contrast-color($color) !important;
        background-color: $color !important;
        border-color: $color !important;

        &:hover {
            background-color: color.adjust($color, $lightness: -5%);
            border-color: color.adjust($color, $lightness: -5%);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
        }
    }

    .btn-outline-secondary-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: $color !important;

        &:hover {
            color: colors-utils.rexbox-contrast-color($color) !important;
            background-color: $color !important;
            border-color: $color !important;
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
            color: colors-utils.rexbox-contrast-color($color) !important;
        }
    }

    .btn-ghost-secondary-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: transparent !important;

        &:hover {
            background-color: rgba($color, 0.1);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.15);
        }

        &:active {
            background-color: rgba($color, 0.2);
        }
    }
}

// Point Palette Buttons
$btn-point-palette: (
    "100": $point-100,
    "200": $point-200,
    "300": $point-300,
    "400": $point-400,
    "500": $point-500,
    "600": $point-600,
    "700": $point-700,
    "800": $point-800,
    "900": $point-900,
);

@each $step, $color in $btn-point-palette {
    .btn-point-#{$step} {
        color: colors-utils.rexbox-contrast-color($color) !important;
        background-color: $color !important;
        border-color: $color !important;

        &:hover {
            background-color: color.adjust($color, $lightness: -5%);
            border-color: color.adjust($color, $lightness: -5%);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
        }
    }

    .btn-outline-point-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: $color !important;

        &:hover {
            color: colors-utils.rexbox-contrast-color($color) !important;
            background-color: $color !important;
            border-color: $color !important;
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.25);
        }

        &:active {
            background-color: color.adjust($color, $lightness: -10%);
            border-color: color.adjust($color, $lightness: -10%);
            color: colors-utils.rexbox-contrast-color($color) !important;
        }
    }

    .btn-ghost-point-#{$step} {
        color: $color !important;
        background-color: transparent !important;
        border-color: transparent !important;

        &:hover {
            background-color: rgba($color, 0.1);
        }

        &:focus {
            box-shadow: 0 0 0 0.25rem rgba($color, 0.15);
        }

        &:active {
            background-color: rgba($color, 0.2);
        }
    }
}